document.addEventListener("DOMContentLoaded",(()=>{const e=document.getElementById("result"),t=document.getElementById("submitResult");let s=0;const n=window.Telegram.WebApp;n.ready(),n.MainButton.setText("Play Again"),n.MainButton.show(),s=100,e.innerText="Your Score: 100",t.addEventListener("click",(()=>{!async function(){try{const e=await fetch("/sendScore",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({userId:n.initDataUnsafe.user.id,score:100})});if(e.ok){const t=await e.json();console.log("Score sent successfully:",t),alert("Score was sent to the server successfully!")}else console.error("Failed to send score:",e.statusText),alert("Failed to send score to the server.")}catch(e){console.error("Error during sending score:",e),alert(`Error: ${e.message}`)}}(),n.sendData(JSON.stringify({score:100}))}))}));